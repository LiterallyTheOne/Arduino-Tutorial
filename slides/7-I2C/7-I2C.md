---
marp: true
theme: uncover
footer: By Ramin Zarebidoky (LiterallyTheOne)
header: Arduino Tutorial, I2C
size: 16:9
---


<style scoped>
p {
  color: cyan;
}
</style>

<!-- _header: "" -->
<!-- _footer: "" -->

# Arduino Tutorial

By LiterallyTheOne

## 7: I2C

![bg right:33% w:400](qr-code-1.webp)

---
<!-- paginate: true -->

## Introduction

* Previous tutorial: Interrupt
* This tutorial: I2C

![bg right:33% w:400](../../docs/6-interrupt/increment-pattern.gif)

---

## I2C Communication

* Inter-Integrated Circuit
* 2 Wire
* Short-distance

---

## I2C Pins

* **SDA**: Serial Data
* **SCL**: Serial Clock

---

## Master and Slave

* **Master**: 1
* **Slave**: multiple
* We can connect multiple components to the same pins

---

## Master's privileges

* Controls the clock on **SCL**
* Decides that if it wants to communicate with **slaves**

---

## Communication structure

<style scoped>
  {
    font-size: 20px; /* Adjust this value to your desired size */
  }
</style>

| Field         | Bit Count | Description                                                         |
|---------------|-----------|---------------------------------------------------------------------|
| START         | —         | SDA goes LOW while SCL is HIGH → begins communication               |
| Slave Address | 7 bits    | Unique address of target device (0–127)                             |
| R/W Bit       | 1 bit     | 0 = Write, 1 = Read                                                 |
| ACK/NACK      | 1 bit     | Receiver pulls SDA LOW to acknowledge (ACK), HIGH for no-ack (NACK) |
| Data Byte 1   | 8 bits    | First byte of data to write or read                                 |
| ACK/NACK      | 1 bit     | Receiver acknowledges the byte                                      |
| Data Byte 2…N | 8 bits    | Additional data bytes (optional, depends on protocol)               |
| ACK/NACK      | 1 bit     | Acknowledge after each data byte                                    |
| STOP          | —         | SDA goes HIGH while SCL is HIGH → ends communication                |

---

## I2C pins in Arduino Uno

| signal  | pin  |
|---------|------|
| **SDA** | `A4` |
| **SCL** | `A5` |

---

## Wire

* Library to control **I2C Communication** in **Arduino**
* Include `Wire`:

```cpp
#include <Wire.h>
```

* Initilize `Wire`:

```cpp
Wire.begin();
```

---

## Different communication with an slave

* Read
* Write

---

## Write

```cpp
// start the communication in order to write
// with the slave with the address of `addr`
Wire.beginTransmission(addr);   
Wire.write(data);               // write data
Wire.endTransmission();         // finish transmission
```

---

## Read

```cpp
// start a read communication with the slave
// with the address of `addr` and read `number` bytes
Wire.requestFrom(addr, number);
Wire.read();                    // read bytes
```

---

## Connect a Clock to an Arduino

* **DS1307**: **Micro/Peripherals/DS1307**

![h:400](../../docs/7-I2C/add-clock.webp)

---

## Code to scan

<style scoped>
  {
    font-size: 28px;
  }
</style>

```cpp
#include <Arduino.h>
#include <Wire.h>

void setup()
{
  Wire.begin();
  Serial.begin(9600);
}

void loop()
{
  for (int i = 0; i < 127; i++)
  {
    Wire.beginTransmission(i);
    if (Wire.endTransmission() == 0)
    {
      Serial.println("Device found at address: 0x" + String(i, HEX));
    }
  }
  delay(2000);
}
```

---

## Connect OLED

* **SSD1306**: **Outputs/Displays/SSD1306**

![h:400](../../docs/7-I2C/oled.webp)

---

## Connect Temperature

* **DS1621**: **Micro/Sensors/DS1621**

![h:400](../../docs/7-I2C/temperature-oled.webp)

---

## Link to the tutorial and materials

![w:400](qr-code-1.webp)
